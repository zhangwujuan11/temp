(self["webpackChunkfront_vue"]=self["webpackChunkfront_vue"]||[]).push([[284],{1391:function(t,e,i){"use strict";i.d(e,{default:function(){return h}});var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"titlel"},[[e("div",{staticClass:"titletext"},[t._t("nametext",(function(){return[t._v("投资")]}))],2)]],2)},s=[],a=i(1594),r=i.n(a),n=r(),l=i(3736),c=(0,l.Z)(n,o,s,!1,null,"39a88d78",null),h=c.exports},1284:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return S}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("div",{staticClass:"home-top maincon"},[e("div",{staticClass:"hometopleft"},[e("div",{staticClass:"bgbox-s"},[e("Titles"),e("div",{staticClass:"home-topfirst"},[e("div",{staticClass:"texttip"},[t._v(" 已完成投资 "),e("span",{staticClass:"numpet"},[t._v("¥"+t._s(t.investDone)+" "),e("span",{staticStyle:{"font-size":"14px"}},[t._v("万元")])]),t._v(" 总投资额 "),e("span",{staticClass:"numsum"},[t._v("¥"+t._s(t.investSum)+" "),e("span",{staticStyle:{"font-size":"14px"}},[t._v("万元")])])]),e("div",{ref:"mabox",staticClass:"home-topfirstechart"})])],1),e("div",{staticClass:"bgbox-s",on:{click:t.gorealtime}},[e("Titles",{scopedSlots:t._u([{key:"nametext",fn:function(){return[t._v(" 项目简介 ")]},proxy:!0}])}),e("div",{staticClass:"textcom"},[t._v(t._s(t.realtime))])],1),e("div",{staticClass:"bgbox-s",on:{click:t.gozixun}},[e("Titles",{scopedSlots:t._u([{key:"nametext",fn:function(){return[t._v(" 资讯 ")]},proxy:!0}])}),e("div",{staticClass:"gor"},t._l(t.gor,(function(i,o){return e("p",{key:o},[t._v(" "+t._s(i.mfteTitle)+" ")])})),0)],1)]),e("div",{ref:"hometopcenter",staticClass:"hometopcenter",staticStyle:{position:"relative"}}),e("div",{staticClass:"hometopright"},[e("Hometopright",{attrs:{methods:t.mthods}})],1)]),e("div",{staticClass:"home-down maincon"},[e("Homedown",{attrs:{methods:t.mthods}})],1)])},s=[],a=(i(7658),i(1391)),r=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{}},[e("div",{staticClass:"bgbox-s",on:{click:t.gokaoqin}},[e("Titles",{scopedSlots:t._u([{key:"nametext",fn:function(){return[t._v(" 今日人员考勤-(人) ")]},proxy:!0}])}),e("div",{ref:"charttwo",staticClass:"charttwo"})],1),e("div",{staticClass:"bgbox-s",on:{click:t.gogongzi}},[e("Titles",{scopedSlots:t._u([{key:"nametext",fn:function(){return[t._v(" "+t._s(t._f("echartsValue")(t.nongmin.echartsValue))+" 月农民工工资-(人) ")]},proxy:!0}])}),e("div",{ref:"chartthree",staticClass:"charttwo"})],1),e("div",{staticClass:"bgbox-s",on:{click:t.gorectify}},[e("Titles",{scopedSlots:t._u([{key:"nametext",fn:function(){return[t._v(" "+t._s(t._f("echartsValue")(t.anquan.echartsValue))+"月安全检查-(次) ")]},proxy:!0}])}),e("div",{ref:"chartfour",staticClass:"charttwo"})],1)])},n=[],l=i(8190),c={components:{Titles:a["default"]},props:["methods"],filters:{echartsValue(t){return t.substr(t.length-2,2)}},data(){return{mounthdata:"",nongmin:{},anquan:{}}},mounted(){this.setMounth(),(0,l.oM)().then((t=>{200==t.code?this.echartsInit(t.data,this.$refs.charttwo):this.$message.error("网络请求错误")})),(0,l.O9)().then((t=>{200==t.code?this.echartsInit(t.data,this.$refs.chartthree):this.$message.error("网络请求错误")})),(0,l.wp)().then((t=>{200==t.code?this.echartsInit(t.data,this.$refs.chartfour):this.$message.error("网络请求错误")}))},methods:{setMounth(){var t=new Date,e=t.getMonth();0==e&&(e=12),this.mounthdata=e},echartsInit(t,e){let i=this.$echarts.getInstanceByDom(e);null==i&&(i=this.$echarts.init(e,null,{devicePixelRatio:2.5}));var o=[],s=0;for(var a in t.yaxisSeries){var r=["#23BBEE","#FFB140","#c00","#b4a7d6","#ffff00","#ea9999","#C6E2FF"],n={data:t.yaxisSeries[a],type:"bar",barWidth:"20%",name:a,itemStyle:{color:r[s],label:{show:!1,position:"insideRight",textStyle:{color:"white",fontSize:9}}}};o.push(n),s++}i.setOption({backgroundColor:"",title:[],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},padding:5,confine:!0,textStyle:{fontSize:10}},xAxis:{type:"category",data:t.xaxis,axisLabel:{color:"#fff",fontSize:"10px",interval:0,rotate:"0"},axisLine:{lineStyle:{type:"solid",color:"#ccc"}}},grid:{top:"7%",right:"1%",left:"1%",bottom:"3vw",right:"1%",left:"1%",containLabel:!0,borderWidth:2},yAxis:{type:"value",color:"#fff",nameTextStyle:{color:"#fff"},axisLine:{lineStyle:{type:"solid",color:"#ccc"}},splitNumber:"3",axisLabel:{color:"#fff",fontSize:"10px"},splitLine:{lineStyle:{type:"dashed",color:"#555"}}},series:o}),window.addEventListener("resize",(function(){i.resize(),i.resize(),i.resize()}))},gokaoqin(){this.$router.push("/synthesize/faceAttendance/index")},gogongzi(){this.$router.push("/synthesize/team/index?type=0")},gorectify(){this.$router.push("/safe/index")}},watch:{methods(t){t.map((t=>{10005==t.echartsKey?this.nongmin=t:10003==t.echartsKey&&(this.anquan=t)}))}}},h=c,d=i(3736),u=(0,d.Z)(h,r,n,!1,null,"75b856fb",null),f=u.exports,p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"homedown"},[e("div",{staticClass:"bgbox-m pens"},[e("Titles",{scopedSlots:t._u([{key:"nametext",fn:function(){return[t._v(" "+t._s(t._f("echartsValue")(t.num.echartsValue))+"月日常管理-(分) ")]},proxy:!0}])}),e("div",{ref:"chartone",staticClass:"chart"})],1),e("div",{staticClass:"bgbox-m penst"},[e("Titles",{scopedSlots:t._u([{key:"nametext",fn:function(){return[t._v(" "+t._s(t._f("echartsValue")(t.shigong.echartsValue))+" 月施工进度-(万元) ")]},proxy:!0}])}),e("div",{ref:"charttwo",staticClass:"chart"})],1),e("div",{staticClass:"bgbox-m penst"},[e("Titles",{scopedSlots:t._u([{key:"nametext",fn:function(){return[t._v(" "+t._s(t._f("echartsValue")(t.zhiliang.echartsValue))+"月质量检查-(次) ")]},proxy:!0}])}),e("div",{ref:"chartthree",staticClass:"chart"})],1)])},m=[],v={components:{Titles:a["default"]},props:["methods"],filters:{echartsValue(t){return t.substr(t.length-2,2)}},data(){return{mounthdata:"",datafrist:{xdata:["大沃段","东港段","蓝园D1","蓝园D2","三山段","江阴段"],ydata:[93.8,96.09,94.87,91.84,94.2,92.8]},num:{},zhiliang:{},shigong:{}}},mounted(){this.setMounth(),(0,l.hA)().then((t=>{200==t.code&&(this.datafrist.xdata=t.data.xaxis,this.datafrist.ydata=t.data.yaxis,this.echartsInit(this.$refs.chartone,this.datafrist),(0,l.px)().then((t=>{this.setCommonOption(this.$refs.charttwo,t.data,"13")})))})),(0,l.o6)().then((t=>{this.setCommonOption(this.$refs.chartthree,t.data,"0")}))},methods:{setMounth(){var t=new Date,e=t.getMonth();0==e&&(e=12),this.mounthdata=e},echartsInit(t,e){let i=this.$echarts.getInstanceByDom(t);null==i&&(i=this.$echarts.init(t,null,{devicePixelRatio:2.5})),i.setOption({backgroundColor:"",title:[],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:e.xdata,axisLabel:{color:"#fff",fontSize:"10px",interval:0,rotate:"0"},axisLine:{lineStyle:{type:"solid",color:"#ccc"}}},grid:{top:"10%",left:"3%",right:"3%",bottom:"6vw",containLabel:!0},yAxis:{type:"value",color:"#fff",max:100,interval:25,nameTextStyle:{color:"#fff"},axisLine:{lineStyle:{type:"solid",color:"#ccc"}},splitNumber:"3",axisLabel:{color:"#fff",fontSize:"10px"},splitLine:{lineStyle:{type:"dashed",color:"#555"}}},series:[{data:e.ydata,type:"bar",barWidth:"20%",itemStyle:{color:function(t){var e=["#23BBEE","#EE2323","#16D63C","#ED6E2E","#c23531","#c23531"];return e[t.dataIndex]},label:{show:!1,position:"insideRight",textStyle:{color:"white",fontSize:10}}},showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},label:{show:!1,position:"top"}}]}),window.addEventListener("resize",(function(){i.resize(),i.resize()}))},setCommonOption(t,e,i){var o=[],s=0;for(var a in e.yaxisSeries){var r=["#23BBEE","#FFB140","#c00","#b4a7d6","#ffff00","#ea9999","#C6E2FF"],n={data:e.yaxisSeries[a],type:"bar",barWidth:"20%",name:a,itemStyle:{color:r[s],label:{show:!1,position:"insideRight",textStyle:{color:"white",fontSize:9}}}};o.push(n),s++}let l=this.$echarts.getInstanceByDom(t);null==l&&(l=this.$echarts.init(t,null,{devicePixelRatio:2.5})),l.setOption({backgroundColor:"",title:[],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:e.xaxis,axisLabel:{color:"#fff",fontSize:"10px",interval:0,rotate:i},axisLine:{lineStyle:{type:"solid",color:"#ccc"}}},grid:{top:"7%",right:"1%",left:"1%",bottom:"6vw",right:"1%",left:"1%",containLabel:!0,borderWidth:2},yAxis:{type:"value",color:"#fff",nameTextStyle:{color:"#fff"},axisLine:{lineStyle:{type:"solid",color:"#ccc"}},splitNumber:"3",axisLabel:{color:"#fff",fontSize:"10px"},splitLine:{lineStyle:{type:"dashed",color:"#555"}}},series:o}),window.addEventListener("resize",(function(){l.resize(),l.resize()}))}},watch:{methods(t){t.map((t=>{10001==t.echartsKey?this.num=t:10004==t.echartsKey?this.zhiliang=t:10002==t.echartsKey&&(this.shigong=t)}))}}},y=v,g=(0,d.Z)(y,p,m,!1,null,"3aa45520",null),x=g.exports,w={name:"Home",components:{Titles:a["default"],Hometopright:f,Homedown:x},data(){return{investSum:null,investDone:null,doneRate:null,realtime:"",gor:[],querydata:[],porint:[{style:"left: 48.308vw;top:12.356vw;",id:"3",code:"K01884075",active:!1,factoryType:"hik"},{style:"left: 45.448vw;top:13.708vw;",id:"6",code:"G70326272",active:!1,factoryType:"hik"},{style:"left: 43.552vw;top:14.748vw;",id:"4",code:"K01884065",active:!1,factoryType:"hik"},{style:"left: 42.432vw;top:16.1vw;",id:"8",code:"J98083734",active:!1,factoryType:"hik"},{style:"left: 41.232vw;top:16.1vw;",id:"22",code:"G70326258",active:!1,factoryType:"hik"},{style:"left: 40.132vw;top:16.1vw;",id:"23",code:"G70326389",active:!1,factoryType:"hik"},{style:"left: 39.132vw;top:16.1vw;",id:"24",code:"G70326396",active:!1,factoryType:"hik"},{style:"left: 38.012vw;top:16.212vw;",id:"20",code:"K41796990",active:!1,factoryType:"hik"},{style:"left: 36.504vw;top:17.824vw;",id:"21",code:"K41796988",active:!1,factoryType:"hik"},{style:"left: 33.228vw;top:16.688vw;",id:"5",code:"K01884048",active:!1,factoryType:"hik"},{style:"left: 29.588vw;top:15.284vw;",id:"1",code:"J98083569",active:!1,factoryType:"hik"},{style:"left: 27.976vw;top:14.812vw;",id:"9",code:"K01884080",active:!1,factoryType:"hik"},{style:"left: 26.52vw;top:15.024vw;",id:"2",code:"J98083731",active:!1,factoryType:"hik"},{style:"left: 23.504vw;top:16.844vw;",id:"7",code:"G70326379",active:!0,factoryType:"hik"}],videoshow:!1,mthods:[]}},mounted(){this.getmothods(),(0,l.gc)().then((t=>{this.investSum=t.data.items[0].investSum/1e4/100,this.investDone=t.data.items[0].investDone/1e4/100,this.doneRate=t.data.items[0].doneRate,this.$refs.hometopcenter.style.backgroundImage="url("+t.data.items[0].homeImg+")",this.echartsInit()})),(0,l.Yt)().then((t=>{this.realtime=t.data.items[0].content.replace(/<[^>]+>/g,""),this.querydata=t.data.items})),(0,l.qV)().then((t=>{this.gor=t.items}))},methods:{getmothods(){(0,l.mU)().then((t=>{this.mthods=t.data.items}))},pointer(t){for(let e=0;e<this.porint.length;e++)this.porint[e].active=t==e;(0,l.E2)({cameraType:this.porint[t].factoryType,id:this.porint[t].code,cno:this.porint[t].id}).then((t=>{200==t.code?(this.videoshow=!0,this.$nextTick((()=>{document.getElementById("hik_iframe").innerHTML='<iframe src="https://open.ys7.com/ezopen/h5/iframe_se?url='+t.data.openUrl+"&autoplay=1&templete=simple&id=video-container&accessToken="+t.data.accessToken+'"  id="EZUIKitPlayer-video-container" allowfullscreen="true" allow="autoplay" frameborder="0" class="cams_content_row_left_video" style="height:17.5vw; position: relative;top: -2.8vw;width:100%"></iframe>'}))):(this.$message.error("设备离线"),this.videoshow=!1)})).catch((()=>{this.$message.error("请求错误！")}))},echartsInit(){let t=this.$echarts.getInstanceByDom(this.$refs.mabox);null==t&&(t=this.$echarts.init(this.$refs.mabox,null,{devicePixelRatio:2.5})),t.setOption({tooltip:{trigger:"item"},color:["#EE2323","rgb(47,69,84)"],series:[{name:"",type:"pie",radius:["40%","60%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:0,borderColor:"#fff",borderWidth:0},label:{show:!1,position:"center",show:!0,position:"center",color:"#4c4a4a",formatter:"{total|"+this.doneRate+"%}\n\r{active|完成比例}",rich:{total:{fontSize:12,fontFamily:"微软雅黑",color:"#ffffff",lineHeight:24},active:{fontFamily:"微软雅黑",fontSize:12,color:"rgb(170, 170, 170)"}}},emphasis:{label:{show:!0}},labelLine:{show:!1},data:[{value:this.doneRate,name:"已完成"},{value:100-this.doneRate,name:"未完成"}]}]}),window.onresize=t.resize},gorealtime(){this.$router.push("/home/projectduction")},gozixun(){this.$router.push("/news/index")},del(){this.videoshow=!1}}},b=w,_=(0,d.Z)(b,o,s,!1,null,"1227d91e",null),S=_.exports},1594:function(){},8190:function(t,e,i){"use strict";i.d(e,{E2:function(){return m},N7:function(){return f},O9:function(){return l},Or:function(){return u},Ys:function(){return y},Yt:function(){return a},fK:function(){return p},gc:function(){return s},hA:function(){return v},mU:function(){return g},o6:function(){return d},oM:function(){return n},px:function(){return h},qV:function(){return r},wp:function(){return c}});var o=i(4471);function s(t){return(0,o.Z)({url:"v1/home/invest/search/list",method:"get",data:{status:"1"}})}function a(){return(0,o.Z)({url:"v1/page/search/list",method:"get"})}function r(){return(0,o.Z)({url:"front/v1/siteinfo/list/3?limit=3&offset=1&orderByColumn=id&isAsc=desc",method:"get"})}function n(){return(0,o.Z)({url:"v1/homepage/work/statistics",method:"get"})}function l(t){return(0,o.Z)({url:"/v1/human/workers/salary/workers/statistics",method:"get",params:t})}function c(){return(0,o.Z)({url:"v1/homepage/securities/statistics",method:"get"})}function h(t){return(0,o.Z)({url:"v1/homepage/buildProgress/statistics",method:"get",params:t})}function d(t){return(0,o.Z)({url:"v1/homepage/rectifies/statistics",method:"get",params:t})}function u(){return(0,o.Z)({url:"/front/v1/partybuild/list/0",method:"get"})}function f(t){return(0,o.Z)({url:"/front/v1/partybuild/list/"+t,method:"get"})}function p(t){return(0,o.Z)({url:"/front/v1/partybuild/"+t,method:"get"})}function m(t){return(0,o.Z)({url:"front/v1/camera/getCamera/"+t.id,method:"get",params:{cameraType:t.cameraType,cno:t.cno}})}function v(){return(0,o.Z)({url:"/v1/homepage/daily/statistics",method:"get"})}function y(){return(0,o.Z)({url:"/v1/partyMemberManagement/actions/echarts",method:"get"})}function g(t){return(0,o.Z)({url:"/v1/echartsManagement/list",method:"get"})}}}]);
//# sourceMappingURL=284.1054ca59.js.map